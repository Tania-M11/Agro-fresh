<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/stylePago.css">
    <script
      src="https://kit.fontawesome.com/645a463f83.js"
      crossorigin="anonymous"
    ></script>
    <script src="./js/burguerMenu.js"></script>
    <script src="./js/pago.js"></script>
    <script src="./js/direccion.js"></script>
    <script src="./js/cartPage.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Arima:wght@700&family=Josefin+Sans&family=Oswald&display=swap"
      rel="stylesheet"
    /><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <title>Checkout - AgroFresh</title>
  </head>
  <style>
    
    
  </style>
  <body>
    <header>
      <a href="/frontend/main.html" class="logo">
        <div class="main-logo">
          <h1>
            Agro<span style="color: #70e000">f</span
            ><span class="logo" style="color: #006400">re</span
            ><span class="logo" style="color: #008000">sh</span>
          </h1>
        </div>
      </a>

      <div class="icons-menu">
        <a href="perfilComprador.html" class="icon-link">
          <i class="fas fa-user"></i>
          <!-- Ícono de cuenta -->
        </a>

        <a href="carrito.html" class="icon-link link-car">
          <i class="fas fa-shopping-cart"></i>
          <!-- Ícono de carrito -->
          <span class="item-count" id="cart-counter">0</span>
        </a>

        <div class="burger-menu" id="menu">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </header>

    <nav class="navigation hidden">
      <div class="nav-links-container">
        <a href="./tienda.html">Tienda</a>
                <a href="./main.html#nosotros">Sobre nosotros</a>
                <a href="./main.html#preguntas">Preguntas frecuentes</a>
                <a href="./main.html#reciclaje">Recicla</a>
                <a href="./main.html#contacto">Contacto</a>
                <a href="./historial-compras.html">Historial de compras</a>
      </div>
    </nav>
    <div class="checkout-container">
      <div class="checkout-details">
          <!-- Tus Datos Section -->
          <div class="checkout-section">
              <div class="section-title">
                  <h3>① Tus Datos</h3>
                  <button 
                      class="edit-section-btn"
                      onclick="openUserDataForm()"
                  >
                      Editar
                  </button>
              </div>
              
              <div class="user-info">
                  <div>
                      <p id="user-email">
                          <a class="link-cerrar" href="./register.html">No soy yo, cerrar sesión</a>
                      </p>
                      <p><strong>Nombre:</strong> <span id="user-name"></span></p>
                      <p><strong>Teléfono/Móvil:</strong> <span id="user-phone"></span></p>
                  </div>
              </div>
          </div>
  
          <!-- Envío Section -->
          <div class="checkout-section">
              <div class="section-title">
                  <h3>② Envío</h3>
                  <button class="edit-section-btn" onclick="openShippingForm()">
                      Editar
                  </button>
              </div>
              <div class="shipping-info">
                  <div>
                      <p><strong>Dirección:</strong> <span id="shipping-address">No especificada</span></p>
                      <p><strong>Código Postal:</strong> <span id="shipping-postal">No especificado</span></p>
                      <p><strong>Ciudad:</strong> <span id="shipping-city">No especificada</span></p>
                  </div>
              </div>
          </div>
  
          <!-- Pago Section -->
          <div class="checkout-section">
              <div class="section-title">
                  <h3>③ Pago</h3>
              </div>
              <div class="payment-methods">
                  <div class="payment-method" data-method="gift-card">
                      <span class="payment-method-name">Tarjeta de regalo</span>
                      <img src="img/targetaregalo.svg" alt="Tarjeta de regalo">
                  </div>
                  <div class="payment-method" data-method="pay-later">
                      <span class="payment-method-logo">Paga después</span>
                      <img src="img/images.png" alt="Paga después">
                  </div>
                  <div class="payment-method" data-method="credit-card">
                      <span class="payment-method-name">Tarjeta</span>
                      <span class="payment-method-logo">
                          <img src="img/mastercard-.svg" alt="Mastercard">
                          <img src="img/visa.png" alt="VISA">
                      </span>
                  </div>
                  <div class="payment-method" data-method="pse">
                      <span class="payment-method-name">PSE</span>
                      <img src="img/pse.png" alt="PSE">
                  </div>
                  <div class="payment-method" data-method="cash">
                      <span class="payment-method-name">Efectivo</span>
                      <img src="img/cash.svg" alt="Efectivo">
                  </div>
                  <div class="payment-method multiple-logos" data-method="mercadopago">
                      <span class="payment-method-name">MercadoPago</span>
                      <div class="logos-container">
                          <img src="img/mercadopago.png" alt="MercadoPago">
                          <img src="img/efecty.svg" alt="Efecty">
                      </div>
                  </div>
              </div>
          </div>
      </div>
  
      <!-- Cart Summary -->
      <div class="summary-section">
          <!-- Cart Items Container -->
          <div class="cart-items">
              <!-- Items will be dynamically loaded here -->
          </div>
  
          <!-- Coupon Section
          <div class="coupon-section">
              <input type="text" placeholder="Código" class="coupon-input" />
              <button class="btn">Aplicar</button>
          </div> -->
  
          <!-- Order Summary -->
          <div class="order-totals">
              <p><strong>Subtotal:</strong> <span id="subtotal-amount">$ 0.00</span></p>
              <p><strong>Ahorraste:</strong> <span id="savings-amount">$ 0.00</span></p>
              <p><strong>Gastos del envío:</strong> <span id="shipping-amount">$ 9.200</span></p>
              <h3>Total: <span id="total-amount">$ 0.00</span></h3>
          </div>
  
          <!-- Comprar Ahora Button -->
          <!-- En tu archivo HTML, modifica el botón para agregar un ID -->
<button id="comprar-ahora-btn" class="comprar-ahora-btn">Comprar ahora</button>
      </div>
  
      <!-- Tus Datos Form Overlay -->
      <div id="user-data-form" class="form-overlay">
          <div class="form-container">
              <div class="form-header">
                  <span class="form-icon">①</span>
                  <h2>Tus Datos</h2>
                  <p>
                      Solicitamos únicamente la información esencial para la finalización
                      de la compra.
                  </p>
              </div>
              <form id="userData-form">
                  <div class="form-group">
                      <label>Correo</label>
                      <input type="email" id="user-email-input" />
                  </div>
                  <div class="form-group">
                      <label>Nombre</label>
                      <input type="text" id="user-name-input" readonly />
                  </div>
                  <div class="form-group">
                      <label>Documento de Identificación</label>
                      <input type="text" id="user-id-input" readonly />
                  </div>
                  <div class="form-group">
                      <label>Teléfono / Móvil</label>
                      <input type="tel" id="user-phone-input" />
                  </div>
                  <div class="form-group checkbox-group">
                      <input type="checkbox" id="newsletter" />
                      <label for="newsletter">Quiero recibir el newsletter con promociones</label>
                  </div>
                  <div class="form-group checkbox-group">
                      <input type="checkbox" id="terms" />
                      <label for="terms">Acepto Términos y Condiciones</label>
                  </div>
                  <div class="form-group checkbox-group">
                      <input type="checkbox" id="privacy" />
                      <label for="privacy">Acepto Aviso de Privacidad</label>
                  </div>
                  <button
                      type="button"
                      class="continue-btn"
                      onclick="saveUserData()"
                  >
                      Continuar
                  </button>
                  <button
                      type="button"
                      class="cancel-btn"
                      onclick="closeUserDataForm()"
                  >
                      Cancelar
                  </button>
              </form>
          </div>
      </div>
  
      <!-- Envío Form Overlay -->
      <div id="shipping-form" class="form-overlay">
          <div class="form-container">
              <div class="form-header">
                  <span class="form-icon">②</span>
                  <h2>Envío</h2>
                  <p>Selecciona el método de entrega para tu pedido</p>
              </div>
              <form id="addressForm">
                  <div class="form-group">
                      <label>Departamento</label>
                      <select name="state" required>
                          <option value="Nariño">Nariño</option>
                      </select>
                  </div>
                  
                  <div class="form-group">
                      <label>Municipio</label>
                      <select name="city" required>
                          <option value="Ipiales">Ipiales</option>
                      </select>
                  </div>
                  
                  <div class="form-group">
                      <label>Tipo de dirección</label>
                      <select name="type" required>
                          <option value="">Selecciona el tipo de dirección</option>
                          <option value="Casa">Casa</option>
                          <option value="Oficina">Oficina</option>
                          <option value="Otro">Otro</option>
                      </select>
                  </div>
                  
                  <div class="form-group address-details">
                      <input type="text" name="street" placeholder="Calle" required>
                      <input type="text" name="number" placeholder="Número" required>
                      <input type="text" name="neighborhood" placeholder="Barrio" required>
                  </div>
                  
                  <div class="form-group">
                      <label>Código Postal</label>
                      <input type="text" name="postalCode" placeholder="Código Postal" required>
                  </div>
                  
                  <div class="form-group">
                      <label>Referencia (opcional)</label>
                      <input type="text" name="reference" placeholder="Referencia">
                  </div>
                  
                  <div class="form-group">
                      <label>Información adicional (ej. apto.201) e indicaciones</label>
                      <input type="text" name="extraInfo" placeholder="Opcional">
                  </div>
                  
                  <div class="form-group">
                      <label>Destinatario</label>
                      <input type="text" name="recipient" required>
                  </div>
                  
                  <button type="button" class="continue-btn" onclick="closeShippingForm()">
                      Ir al pago
                  </button>
                  <button type="button" class="cancel-btn" onclick="closeShippingForm()">
                      Cancelar
                  </button>
              </form>
          </div>
      </div>
  </div>
    
  </body>
</html>
